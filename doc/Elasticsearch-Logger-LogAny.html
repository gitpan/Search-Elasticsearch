<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<link rel='stylesheet' href='https://metacpan.org/_asset/288683e3285b02987a848283f0f92207' type='text/css'>
<script type='text/javascript' src='https://metacpan.org/_asset/12b19d083bf773523c065d4d729f0327'></script>
</head>
<body>
<div class="pod">


<ul id="index">
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#CONFIGURATION">CONFIGURATION</a>
    <ul>
      <li><a href="#USING-LOG::ANY::ADAPTER">USING LOG::ANY::ADAPTER</a></li>
      <li><a href="#USING-log_to-AND-trace_to">USING <code>log_to</code> AND <code>trace_to</code></a></li>
    </ul>
  </li>
</ul>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p><a href="./Elasticsearch::Logger::LogAny">Elasticsearch::Logger::LogAny</a> provides event logging and the tracing of request/response conversations with Elasticsearch nodes via the <a href="./Log::Any">Log::Any</a> module.</p>

<p><i>Logging</i> refers to log events, such as node failures, pings, sniffs, etc, and should be enabled for monitoring purposes.</p>

<p><i>Tracing</i> refers to the actual HTTP requests and responses sent to Elasticsearch nodes. Tracing can be enabled for debugging purposes, or for generating a pretty-printed <code>curl</code> script which can be used for reporting problems.</p>

<h1 id="CONFIGURATION">CONFIGURATION</h1>

<p>Logging and tracing can be enabled using <a href="./Log::Any::Adapter">Log::Any::Adapter</a>, or by passing options to <a href="./Elasticsearch#new-">&quot;new()&quot; in Elasticsearch</a>.</p>

<h2 id="USING-LOG::ANY::ADAPTER">USING LOG::ANY::ADAPTER</h2>

<p>Send all logging and tracing to <code>STDERR</code>:</p>

<pre class="brush: pl; class-name: 'highlight'; toolbar: false; gutter: false">    use Log::Any::Adapter qw(Stderr);
    use Elasticsearch;
    my $e = Elasticsearch-&gt;new;</pre>

<p>Send logging to a file, and tracing to Stderr:</p>

<pre class="brush: pl; class-name: 'highlight'; toolbar: false; gutter: false">    use Log::Any::Adapter();
    Log::Any::Adapter-&gt;set(
        { category =&gt; &#39;elasticsearch.event&#39; },
        &#39;File&#39;,
        &#39;/path/to/file.log&#39;
    );
    Log::Any::Adapter-&gt;set(
        { category =&gt; &#39;elasticsearch.trace&#39; },
        &#39;Stderr&#39;
    );

    use Elasticsearch;
    my $e = Elasticsearch-&gt;new;</pre>

<h2 id="USING-log_to-AND-trace_to">USING <code>log_to</code> AND <code>trace_to</code></h2>

<p>Send all logging and tracing to <code>STDERR</code>:</p>

<pre class="brush: pl; class-name: 'highlight'; toolbar: false; gutter: false">    use Elasticsearch;
    my $e = Elasticsearch-&gt;new(
        log_to   =&gt; &#39;Stderr&#39;,
        trace_to =&gt; &#39;Stderr&#39;
    );</pre>

<p>Send logging to a file, and tracing to Stderr:</p>

<pre class="brush: pl; class-name: 'highlight'; toolbar: false; gutter: false">    use Elasticsearch;
    my $e = Elasticsearch-&gt;new(
        log_to   =&gt; [&#39;File&#39;, &#39;/path/to/file.log&#39;],
        trace_to =&gt; &#39;Stderr&#39;
    );</pre>

<p>See <a href="./Log::Any::Adapter">Log::Any::Adapter</a> for more.</p>


</div>
</body>
</html>


